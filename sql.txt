Listar tabelas:
SELECT name FROM sqlite_master WHERE type='table' ORDER BY name;

Ver colunas de uma tabela (ex.: posts):
PRAGMA table_info(blog_post);

Listar posts + ids (para escolher <POST_ID>):
SELECT id, title, created_at FROM blog_post ORDER BY created_at DESC;

Listar categorias + ids (para escolher <CATEGORY_ID>):
SELECT id, name FROM blog_category;

Encontrar nome da tabela M2M que liga posts e categories (se existir padrão blog_%_categories):
SELECT name FROM sqlite_master WHERE type='table' AND name LIKE 'blog_%_categories';

Q1 — Todos os posts, ordenados pela data (mais recente primeiro)
SELECT * FROM blog_post ORDER BY created_at DESC;

Q2 — Para um post com comentários: todos os seus comentários
SELECT * FROM blog_comment WHERE post_id = <POST_ID> ORDER BY created_at DESC;

Q3 — Comentários + título do post + data do post (post_date) — sem post_id da tabela comments
SELECT
  c.id,
  c.author_id,
  c.text,
  c.created_at AS comment_date,
  p.title AS post_title,
  p.created_at AS post_date
FROM blog_comment c
JOIN blog_post p ON c.post_id = p.id
WHERE p.id = <POST_ID>
ORDER BY c.created_at DESC;

Q4 — Para uma categoria: todos os posts pertencentes a ela (inclui colunas de category e post)
SELECT
  cat.id   AS category_id,
  cat.name AS category_name,
  cat.description,
  p.id     AS post_id,
  p.title  AS post_title,
  p.content AS post_content,
  p.created_at AS post_date
FROM blog_category cat
JOIN blog_post_categories pc ON pc.category_id = cat.id
JOIN blog_post p ON p.id = pc.post_id
WHERE cat.id = <CATEGORY_ID>
ORDER BY p.created_at DESC;

Q5 — Todas as categorias que possuem dois ou mais posts
SELECT
  cat.id,
  cat.name,
  cat.description,
  COUNT(pc.post_id) AS posts_count
FROM blog_category cat
JOIN blog_post_categories pc ON pc.category_id = cat.id
GROUP BY cat.id
HAVING COUNT(pc.post_id) >= 2;
